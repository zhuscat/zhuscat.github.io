{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/problem-when-run-flutter-proejct","result":{"data":{"site":{"siteMetadata":{"title":"ZhusCafe"}},"markdownRemark":{"html":"<p>最近跑 flutter 的一个项目遇到了一个问题</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">flutter run</code></pre></div>\n<p>然后安装 Cocoapods 依赖的时候报错了：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    [!] CocoaPods could not find compatible versions for pod &quot;JMLink&quot;:\n      In snapshot (Podfile.lock):\n        JMLink (= 1.2.4)\n\n      In Podfile:\n        jmlink_flutter_plugin (from `.symlinks/plugins/jmlink_flutter_plugin/ios`) was resolved to 0.0.1, which depends on\n          JMLink (= 1.2.4)</code></pre></div>\n<p>很久没接触原生开发了，遇到这个问题，一开始的反应是环境配置有问题，因为其他人是能正常跑的</p>\n<p>然后我就去网上搜索这个问题，搜的解决方案大概是这些：</p>\n<p>到 ios 文件夹里面执行</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pod repo update –verbose\npod install</code></pre></div>\n<p>但是不行，然后说是删掉 <code class=\"language-text\">Podfile.lock</code>，然后再执行还是不行</p>\n<p>试了各种方法，各种方式清楚缓存都不行</p>\n<p>后来使用了这个命令：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pod search JMLink</code></pre></div>\n<p>发现并没有 <code class=\"language-text\">1.2.4</code> 这个版本，然后我去查看了 Cocoapods 的 repo list</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">trunk\n- Type: CDN\n- URL:  https://cdn.cocoapods.org/\n- Path: /Users/zhuliangzhen/.cocoapods/repos/trunk\n\n1 repo</code></pre></div>\n<p>然后我甚至还怀疑到是不是 trunk 这个 repo 里面缺了一个版本，然后我还把 git repo 下下来试了一下，也是找不到 1.2.4</p>\n<p>最终我怀疑其实就是本来 1.2.4 是有了，后来不知道什么原因把 1.2.4 删掉了，然后我找了之前能跑项目的人，让他清除缓存从 0 开始配置，结果果然也不行了。</p>\n<p>因为依赖的是一个 flutter plugin，然后是在 flutter plugin 里面声明了对 1.2.4 JMLink 的依赖，所以最终解决方案，fork 了这个 flutter plugin，然后把 <code class=\"language-text\">pubspec.lock</code> 的依赖改成了 git 式的依赖。</p>","frontmatter":{"title":"一个跑 flutter 项目遇到的问题","date":"December 26, 2021","tags":["Flutter","CocoaPods"]},"fields":{"slug":"/posts/problem-when-run-flutter-proejct/"}}},"pageContext":{"slug":"/posts/problem-when-run-flutter-proejct/"}},"staticQueryHashes":["3159585216"]}