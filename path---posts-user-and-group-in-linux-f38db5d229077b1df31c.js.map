{"version":3,"sources":["webpack:///path---posts-user-and-group-in-linux-f38db5d229077b1df31c.js","webpack:///./.cache/json/posts-user-and-group-in-linux.json"],"names":["webpackJsonp","523","module","exports","data","markdownRemark","html","frontmatter","title","date","tags","fields","slug","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,8pGAAAC,aAA0vGC,MAAA,gBAAAC,KAAA,qBAAAC,MAAA,UAAqEC,QAAWC,KAAA,+BAAqCC,aAAgBD,KAAA","file":"path---posts-user-and-group-in-linux-f38db5d229077b1df31c.js","sourcesContent":["webpackJsonp([273399324859513],{\n\n/***/ 523:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p>讲讲 Linux 中用户以及用户组相关的一些知识吧。</p>\\n<h2>用户</h2>\\n<p>首先介绍一个一个文件：<code class=\\\"language-text\\\">/etc/passwd</code>，这个文件中存储了一下与用户相关的信息，举个例子：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">$ grep /etc/passwd\\nroot:x:0:0:root:/root:/bin/bash\\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\\nubuntu:x:500:500:ubuntu,,,:/home/ubuntu:/bin/zsh</code></pre>\\n      </div>\\n<p>内容大概是上面这个样子的，在行数上我做了一些删减，可以看到每一行都代表了一个用户，我们看看每一行的含义，以第一行为例吧。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">root:x:0:0:root:/root:/bin/bash\\n 1   2 3 4   5    6      7</code></pre>\\n      </div>\\n<p>可以看到常见的一行用户信息包含七个部分（由 <code class=\\\"language-text\\\">:</code> 分割），下面分别解释一下每一个部分的含义。</p>\\n<ol>\\n<li>用户名</li>\\n<li>用户密码，曾经 UNIX 的密码就存储在这个字段上面，由于存在安全隐患，后来移到了 <code class=\\\"language-text\\\">/etc/shadow</code> 文件下面</li>\\n<li>用户的 UID</li>\\n<li>用户的 GID</li>\\n<li>用户信息说明，在功能上没有实际用处</li>\\n<li>用户的主文件夹</li>\\n<li>用户的默认 Shell</li>\\n</ol>\\n<p>在 Linux 中，UID 的数值有一些特殊的含义，当 UID 为 0 的时候，代表该账号是系统管理员，当 UID 为 1-499 的时候，表示是系统账号，然后其他范围是可登陆账号。</p>\\n<h2>用户组</h2>\\n<p>就像上面介绍的用户相关文件 <code class=\\\"language-text\\\">/etc/passwd</code> 一样，用户组也有一个类似的文件，该文件为 <code class=\\\"language-text\\\">/etc/group</code>，让我们看一下该文件中的内容。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">$ grep /etc/group\\nroot:x:0:\\ndaemon:x:1:\\nubuntu:x:500:</code></pre>\\n      </div>\\n<p>这个文件内容长这个样子（对行数有删减），可以看到与 <code class=\\\"language-text\\\">/etc/passwd</code> 有相似之处，让我们解释一下各个字段的含义。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">root:x:0:\\n 1   2  3 4</code></pre>\\n      </div>\\n<p>可以看到一共有四个字段。</p>\\n<ol>\\n<li>用户组名称</li>\\n<li>用户组密码，同样，由于安全原因，用户组密码移动到了 <code class=\\\"language-text\\\">/etc/gshadow</code> 中去了，另外，平常也怎么会用到 <code class=\\\"language-text\\\">/etc/gshadow</code></li>\\n<li>该用户组的 GID</li>\\n<li>该用户组支持的账号名称</li>\\n</ol>\\n<h2>其他</h2>\\n<p>看到这里，细心的你会发现，在用户文件中，有一个字段表示为 GID，而在用户组文件中，第四个字段则为用户组支持的账号名称，你可能会觉得奇怪，为什么在两个地方同时存在了类似的信息。下面我来解释一下。</p>\\n<p>这就涉及到了初始用户组和次要用户组了。在用户文件中的 GID 字段，表示该用户的初始用户组，当用户登录到系统的时候，就获得了初始用户组相关的权限。而在用户组文件中列举的该用户组支持的账号名称，则表示该用户组是所列举用户的次要用户组。所以，如果一个用户组是某个用户的初始用户组，则不需要将该用户填到该用户组的第四个字段。</p>\\n<p>拿我上面举的例子说明，用户 <code class=\\\"language-text\\\">root</code> 的初始用户组 GID 为 0，即用户组 <code class=\\\"language-text\\\">root</code>，可以看到，用户组 <code class=\\\"language-text\\\">root</code> 的第四个字段为空。</p>\\n<p>然后再说一下有效用户组，通过上面的介绍，我们知道，一个用户可以属于多个用户组，我们也知道，创建文件的时候文件在用户组方面会有相应的权限，那么，当你创建一个文件的时候，这个文件属于的用户组是什么呢？者涉及到有效用户组，使用 <code class=\\\"language-text\\\">groups</code> 命令可以查看有效用户组。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">$ <span class=\\\"token function\\\">groups</span>\\nubuntu adm cdrom <span class=\\\"token function\\\">sudo</span> dip plugdev lpadmin sambashare</code></pre>\\n      </div>\\n<p>位列第一个的用户组即有效用户组，创建的文件所属的用户组为有效用户组的。</p>\\n<p>我们也可以切换有效用户组，使用 <code class=\\\"language-text\\\">newgrp</code> 即可.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">newgrp groupname</code></pre>\\n      </div>\\n<p>一个小知识点事，<code class=\\\"language-text\\\">newgrp</code> 会创建一个新的 <code class=\\\"language-text\\\">shell</code>  进程。</p>\\n<p>这就是有关用户和用户组的一些简单的知识了，下面再写一篇文章介绍一些用户管理相关的命令。</p>\",\"frontmatter\":{\"title\":\"Linux 用户管理（一）\",\"date\":\"September 18, 2017\",\"tags\":[\"Linux\"]},\"fields\":{\"slug\":\"/user-and-group-in-linux/\"}}},\"pathContext\":{\"slug\":\"/user-and-group-in-linux/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---posts-user-and-group-in-linux-f38db5d229077b1df31c.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<p>讲讲 Linux 中用户以及用户组相关的一些知识吧。</p>\\n<h2>用户</h2>\\n<p>首先介绍一个一个文件：<code class=\\\"language-text\\\">/etc/passwd</code>，这个文件中存储了一下与用户相关的信息，举个例子：</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">$ grep /etc/passwd\\nroot:x:0:0:root:/root:/bin/bash\\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\\nubuntu:x:500:500:ubuntu,,,:/home/ubuntu:/bin/zsh</code></pre>\\n      </div>\\n<p>内容大概是上面这个样子的，在行数上我做了一些删减，可以看到每一行都代表了一个用户，我们看看每一行的含义，以第一行为例吧。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">root:x:0:0:root:/root:/bin/bash\\n 1   2 3 4   5    6      7</code></pre>\\n      </div>\\n<p>可以看到常见的一行用户信息包含七个部分（由 <code class=\\\"language-text\\\">:</code> 分割），下面分别解释一下每一个部分的含义。</p>\\n<ol>\\n<li>用户名</li>\\n<li>用户密码，曾经 UNIX 的密码就存储在这个字段上面，由于存在安全隐患，后来移到了 <code class=\\\"language-text\\\">/etc/shadow</code> 文件下面</li>\\n<li>用户的 UID</li>\\n<li>用户的 GID</li>\\n<li>用户信息说明，在功能上没有实际用处</li>\\n<li>用户的主文件夹</li>\\n<li>用户的默认 Shell</li>\\n</ol>\\n<p>在 Linux 中，UID 的数值有一些特殊的含义，当 UID 为 0 的时候，代表该账号是系统管理员，当 UID 为 1-499 的时候，表示是系统账号，然后其他范围是可登陆账号。</p>\\n<h2>用户组</h2>\\n<p>就像上面介绍的用户相关文件 <code class=\\\"language-text\\\">/etc/passwd</code> 一样，用户组也有一个类似的文件，该文件为 <code class=\\\"language-text\\\">/etc/group</code>，让我们看一下该文件中的内容。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">$ grep /etc/group\\nroot:x:0:\\ndaemon:x:1:\\nubuntu:x:500:</code></pre>\\n      </div>\\n<p>这个文件内容长这个样子（对行数有删减），可以看到与 <code class=\\\"language-text\\\">/etc/passwd</code> 有相似之处，让我们解释一下各个字段的含义。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">root:x:0:\\n 1   2  3 4</code></pre>\\n      </div>\\n<p>可以看到一共有四个字段。</p>\\n<ol>\\n<li>用户组名称</li>\\n<li>用户组密码，同样，由于安全原因，用户组密码移动到了 <code class=\\\"language-text\\\">/etc/gshadow</code> 中去了，另外，平常也怎么会用到 <code class=\\\"language-text\\\">/etc/gshadow</code></li>\\n<li>该用户组的 GID</li>\\n<li>该用户组支持的账号名称</li>\\n</ol>\\n<h2>其他</h2>\\n<p>看到这里，细心的你会发现，在用户文件中，有一个字段表示为 GID，而在用户组文件中，第四个字段则为用户组支持的账号名称，你可能会觉得奇怪，为什么在两个地方同时存在了类似的信息。下面我来解释一下。</p>\\n<p>这就涉及到了初始用户组和次要用户组了。在用户文件中的 GID 字段，表示该用户的初始用户组，当用户登录到系统的时候，就获得了初始用户组相关的权限。而在用户组文件中列举的该用户组支持的账号名称，则表示该用户组是所列举用户的次要用户组。所以，如果一个用户组是某个用户的初始用户组，则不需要将该用户填到该用户组的第四个字段。</p>\\n<p>拿我上面举的例子说明，用户 <code class=\\\"language-text\\\">root</code> 的初始用户组 GID 为 0，即用户组 <code class=\\\"language-text\\\">root</code>，可以看到，用户组 <code class=\\\"language-text\\\">root</code> 的第四个字段为空。</p>\\n<p>然后再说一下有效用户组，通过上面的介绍，我们知道，一个用户可以属于多个用户组，我们也知道，创建文件的时候文件在用户组方面会有相应的权限，那么，当你创建一个文件的时候，这个文件属于的用户组是什么呢？者涉及到有效用户组，使用 <code class=\\\"language-text\\\">groups</code> 命令可以查看有效用户组。</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">$ <span class=\\\"token function\\\">groups</span>\\nubuntu adm cdrom <span class=\\\"token function\\\">sudo</span> dip plugdev lpadmin sambashare</code></pre>\\n      </div>\\n<p>位列第一个的用户组即有效用户组，创建的文件所属的用户组为有效用户组的。</p>\\n<p>我们也可以切换有效用户组，使用 <code class=\\\"language-text\\\">newgrp</code> 即可.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">newgrp groupname</code></pre>\\n      </div>\\n<p>一个小知识点事，<code class=\\\"language-text\\\">newgrp</code> 会创建一个新的 <code class=\\\"language-text\\\">shell</code>  进程。</p>\\n<p>这就是有关用户和用户组的一些简单的知识了，下面再写一篇文章介绍一些用户管理相关的命令。</p>\",\"frontmatter\":{\"title\":\"Linux 用户管理（一）\",\"date\":\"September 18, 2017\",\"tags\":[\"Linux\"]},\"fields\":{\"slug\":\"/user-and-group-in-linux/\"}}},\"pathContext\":{\"slug\":\"/user-and-group-in-linux/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/posts-user-and-group-in-linux.json\n// module id = 523\n// module chunks = 273399324859513"],"sourceRoot":""}